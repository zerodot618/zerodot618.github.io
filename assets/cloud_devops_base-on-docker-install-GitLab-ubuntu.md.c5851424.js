import{_ as s,o as a,c as n,d as l}from"./app.29682480.js";const b=JSON.parse('{"title":"\u57FA\u4E8E Docker \u5B89\u88C5 GitLab(Ubuntu)","description":"","frontmatter":{},"headers":[],"relativePath":"cloud/devops/base-on-docker-install-GitLab-ubuntu.md"}'),e={name:"cloud/devops/base-on-docker-install-GitLab-ubuntu.md"},o=l(`<h1 id="\u57FA\u4E8E-docker-\u5B89\u88C5-gitlab-ubuntu" tabindex="-1">\u57FA\u4E8E Docker \u5B89\u88C5 GitLab(Ubuntu) <a class="header-anchor" href="#\u57FA\u4E8E-docker-\u5B89\u88C5-gitlab-ubuntu" aria-hidden="true">#</a></h1><p>\u5B89\u88C5 docker</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get install docker</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5B89\u88C5 <a href="http://docker.io" target="_blank" rel="noreferrer">docker.io</a>:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get install docker.io -y</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5B89\u88C5 docker-registry\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get install docker-registry -y</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u62C9\u53D6\u5B98\u65B9hello-world\u6D4B\u8BD5\u955C\u50CF:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo docker pull hello-world</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5F53\u51FA\u73B0\u7C7B\u4F3C\u63D0\u793A\u65F6\uFF0C\u8BF4\u660E\u62C9\u53D6\u5DF2\u7ECF\u6210\u529F</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Using default tag: latest</span></span>
<span class="line"><span style="color:#A6ACCD;">latest: Pulling from library/hello-world</span></span>
<span class="line"><span style="color:#A6ACCD;">2db29710123e: Pull complete </span></span>
<span class="line"><span style="color:#A6ACCD;">Digest: sha256:62af9efd515a25f84961b70f973a798d2eca956b1b2b026d0a4a63a3b0b6a3f2</span></span>
<span class="line"><span style="color:#A6ACCD;">Status: Downloaded newer image for hello-world:latest</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u8FD0\u884C\u5B98\u65B9hello-world\u6D4B\u8BD5\u955C\u50CF</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo docker run hello-world</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5F53\u51FA\u73B0\u7C7B\u4F3C\u5185\u5BB9\u65F6\uFF0C\u8BF4\u660Edocker\u5B89\u88C5\u5DF2\u7ECF\u6210\u529F</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Hello from Docker!</span></span>
<span class="line"><span style="color:#A6ACCD;">This message shows that your installation appears to be working correctly.</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">To generate this message, Docker took the following steps:</span></span>
<span class="line"><span style="color:#A6ACCD;"> 1. The Docker client contacted the Docker daemon.</span></span>
<span class="line"><span style="color:#A6ACCD;"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</span></span>
<span class="line"><span style="color:#A6ACCD;">    (amd64)</span></span>
<span class="line"><span style="color:#A6ACCD;"> 3. The Docker daemon created a new container from that image which runs the</span></span>
<span class="line"><span style="color:#A6ACCD;">    executable that produces the output you are currently reading.</span></span>
<span class="line"><span style="color:#A6ACCD;"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span></span>
<span class="line"><span style="color:#A6ACCD;">    to your terminal.</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">To try something more ambitious, you can run an Ubuntu container with:</span></span>
<span class="line"><span style="color:#A6ACCD;"> $ docker run -it ubuntu bash</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Share images, automate workflows, and more with a free Docker ID:</span></span>
<span class="line"><span style="color:#A6ACCD;"> https://hub.docker.com/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">For more examples and ideas, visit:</span></span>
<span class="line"><span style="color:#A6ACCD;"> https://docs.docker.com/get-started/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>GitLab docker\u7684\u62C9\u53D6</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo docker pull beginor/gitlab-ce:11.3.0-ce.0 </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u770B\u5230\u4EE5\u4E0B\u7C7B\u4F3C\u4FE1\u606F\uFF0C\u5C31\u8BF4\u660E\u62C9\u53D6\u5DF2\u7ECF\u6210\u529F\u4E86</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Digest: sha256:dc9aad54048a4f64a4a64659be819ecbc2b26ae5e4fc8d6d462301a972be8de3</span></span>
<span class="line"><span style="color:#A6ACCD;">Status: Downloaded newer image for beginor/gitlab-ce:11.3.0-ce.0</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u521B\u5EFA\u4E09\u4E2A\u76EE\u5F55\u5B58\u50A8Docker\u8FD0\u884C\u65F6\u4EA7\u751F\u7684\u5E94\u7528\u6570\u636E(data),\u65E5\u5FD7(logs)\u548C\u914D\u7F6E\u6587\u4EF6(config)</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo mkdir -p /gitlab/data /gitlab/logs /gitlab/config</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u8F93\u5165\u4EE5\u4E0B\u6307\u4EE4\u6765\u4E34\u65F6\u6D4B\u8BD5Docker\u542F\u52A8\u662F\u5426\u6B63\u5E38</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo docker run --detach \\--publish 8443:443 --publish 8000:80 --publish 2222:22 \\--name gitlab \\--restart always \\--volume /gitlab/config:/etc/gitlab \\--volume /gitlab/logs:/var/log/gitlab \\--volume /gitlab/data:/var/opt/gitlab \\-log-driver=none \\beginor/gitlab-ce:11.3.0-ce.0</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u6307\u4EE4\u53C2\u6570\u89E3\u91CA</p><ul><li>\u2013detach \u8BBE\u7F6E\u5BB9\u5668\u540E\u53F0\u8FD0\u884C</li><li>\u2013publish \u6620\u5C04docker\u5185\u90E8\u7AEF\u53E3\uFF0C\u683C\u5F0F \u672C\u673A\u7AEF\u53E3:docker\u5185\u7AEF\u53E3 \u6307\u4EE4\u4E2D\u5F00\u653E\u4E863\u4E2A\u7AEF\u53E3:443,80,22,\u5206\u522B\u7ED1\u5B9A\u4E868443,8000,2222</li><li>\u2013name \u5BB9\u5668\u540D\u79F0</li><li>\u2013restart always \u6BCF\u6B21\u542F\u52A8\u5BB9\u5668\u5C31\u91CD\u542FGitLab</li><li>\u2013volume \u8BBE\u7F6EGitLab\u6570\u636E\u6302\u8F7D\u4F4D\u7F6E</li></ul><p>\u67E5\u770Bgitlab\u5BB9\u5668\u72B6\u6001\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo docker ps</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p>\u6CE8\u610F:\u5F53STATUS\u4E00\u680F\u7531 health: starting \u53D8\u4E3A healthy \u65F6\uFF0C\u624D\u8868\u793A\u542F\u52A8\u6210\u529F,\u7B2C\u4E00\u6B21\u542F\u52A8\u8017\u65F6\u7EA6 \u51E0\u5206\u949F\uFF0C\u8BF7\u8010\u5FC3\u7B49\u5F85\u3002</p></blockquote><p>\u6D4B\u8BD5\u8BBF\u95EEGitLab \u542F\u52A8\u6210\u529F\u540E\uFF0C\u4E00\u5207\u5C31\u51C6\u5907\u5C31\u7EEA\u4E86\uFF0C\u4E0B\u9762\u53EF\u4EE5\u70B9\u51FB\u8BBF\u95EE <a href="http://xn--ip-wz2cw66akcq04j:8000" target="_blank" rel="noreferrer">http://\u4E3B\u673Aip\u5730\u5740:8000</a> \u8FD9\u4E2AIP\u5730\u5740\u8FDB\u5165\u60A8\u4E3B\u673A\u6B63\u5728\u8FD0\u884C\u7684GitLab\u7F51\u7AD9\u4E2D\u3002</p><p>\u81F3\u6B64\uFF0C\u5168\u90E8\u7684\u5B89\u88C5\u5DF2\u7ECF\u5B8C\u6210\uFF01</p>`,30),p=[o];function t(c,r,i,d,u,A){return a(),n("div",null,p)}const g=s(e,[["render",t]]);export{b as __pageData,g as default};
